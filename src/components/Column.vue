<template>
    <div class="column">
        <div class="column-add">
            <h3>This board is empty. Create a new column to get started.</h3>

            <button class="btn">+ Add New Column</button>
        </div>
        
        <!-- <div class="column-items">
            <div class="column-item">
                <div class="column-item-heading">
                    <span></span>

                    <p>TODO (4)</p>
                </div>

                <div class="column-item-tasks-container">
                    <div class="column-item-task">
                        <aside>
                            <h4>Build UI for onboarding flow</h4>

                            <p>0 of 3 substasks</p>
                        </aside>
                    </div>

                    <div class="column-item-task">
                        <aside>
                            <h4>Build UI for search</h4>

                            <p>0 of 1 substasks</p>
                        </aside>
                    </div>

                    <div class="column-item-task">
                        <aside>
                            <h4>Create template structures</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>

                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>

                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>

                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>

                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>

                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>

                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>

                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>

                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>
                </div>
            </div>

            <div class="column-item">
                <div class="column-item-heading">
                    <span></span>

                    <p>TODO (4)</p>
                </div>

                <div class="column-item-tasks-container">
                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>

                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>
                </div>
            </div>
            <div class="column-item">
                <div class="column-item-heading">
                    <span></span>

                    <p>TODO (4)</p>
                </div>

                <div class="column-item-tasks-container">
                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>

                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>
                </div>
            </div>
            <div class="column-item">
                <div class="column-item-heading">
                    <span></span>

                    <p>TODO (4)</p>
                </div>

                <div class="column-item-tasks-container">
                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>

                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>
                </div>
            </div>
            <div class="column-item">
                <div class="column-item-heading">
                    <span></span>

                    <p>TODO (4)</p>
                </div>

                <div class="column-item-tasks-container">
                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>

                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>
                </div>
            </div>
            <div class="column-item">
                <div class="column-item-heading">
                    <span></span>

                    <p>TODO (4)</p>
                </div>

                <div class="column-item-tasks-container">
                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>

                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>
                </div>
            </div>
            <div class="column-item">
                <div class="column-item-heading">
                    <span></span>

                    <p>TODO (4)</p>
                </div>

                <div class="column-item-tasks-container">
                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>

                    <div class="column-item-task">
                        <aside>
                            <h4>QA and test all major user journeys</h4>

                            <p>0 of 2 substasks</p>
                        </aside>
                    </div>
                </div>
            </div>
        </div>

        <div class="column-add--fullheight">
            <h2 class="h1">+ New Column</h2>
        </div> -->
    </div>
</template>

<script>
import { mapState, mapGetters, mapActions } from 'vuex';

export default {
    name: 'Column',

    data() {
        return {
            navbarHeight: 0
        }
    },

    methods: {
        updateNavbarHeight() {
        const navbar = document.querySelector('.navbar');
        if (navbar) {
            this.navbarHeight = navbar.offsetHeight;
            // Set the CSS variable
            document.documentElement.style.setProperty('--navbar-height', `${this.navbarHeight}px`);
        }
        }
    },

  mounted() {
    // Set the navbar height initially
    this.updateNavbarHeight();
    // Update on window resize
    window.addEventListener('resize', this.updateNavbarHeight);
  },

  beforeDestroy() {
    // Cleanup on component destroy
    window.removeEventListener('resize', this.updateNavbarHeight);
  }

}
</script>

<style>
.column {
    height: calc(100vh - var(--navbar-height));
}
</style>
